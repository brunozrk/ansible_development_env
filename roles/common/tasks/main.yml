- name: Update and cache apt-get
  apt: update_cache=yes cache_valid_time=3600

- name: Install common packages
  apt: name={{item}} state=present
  with_items:
    - python-pip
    - git
    - git-gui
    - vim
    - mysql-server
    - curl
    - libpq-dev
    - libmagickwand-dev
    - nodejs
    - postgresql
    - postgresql-contrib
    - python-dev
  tags: install_packages

- name: Create Projects directory
  file: path={{local_home}}/Projects2 state=directory
  sudo: no
  tags: project_dir

- name: Create ~/.bash_profile
  template: >
    src=bash_profile.j2
    dest={{local_home}}/.bash_profile
  notify: reload bash_profile
  tags: bash_profile